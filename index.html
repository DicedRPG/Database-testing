<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DICED: Cooking RPG Companion</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="new-styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#A2BC58">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
    <!-- Main Container (Home Page) -->
    <div id="main-container" class="page-container">
        <div class="dashboard">
            <div class="header">
                <h1>DICED: Cooking RPG Companion</h1>
                <!-- Mobile Menu Toggle -->
                <div class="menu-toggle" id="menu-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
                    </svg>
                </div>
                <nav class="main-nav">
                    <button id="nav-home" class="nav-button active" data-route="home">Home</button>
                    <button id="nav-settings" class="nav-button" data-route="settings">Settings</button>
                </nav>
            </div>

            <div class="overall-rank-card">
                <div class="attribute-header">
                    <div class="attribute-icon-overall"></div>
                    <h3>Overall Rank</h3>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 0%"></div>
                </div>
                <div class="stats">
                    <p>Current Rank: <span id="overall-rank">Home Cook (Bronze)</span></p>
                    <p>Total Hours: <span id="overall-hours">0</span> / <span id="overall-next-rank">220</span> for next rank</p>
                </div>
            </div>

            <div class="attributes-grid">
                <div class="attribute-card">
                    <div class="attribute-header">
                        <div class="attribute-icon"></div>
                        <h3>Technique</h3>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 25%"></div>
                    </div>
                    <div class="stats">
                        <p>Current Rank: Home Cook</p>
                        <p>Hours: <span id="technique-hours">0</span> / <span id="technique-next-level">5</span> for Level <span id="technique-level">1</span></p>
                    </div>
                </div>

                <div class="attribute-card">
                    <div class="attribute-header">
                        <div class="attribute-icon"></div>
                        <h3>Ingredients</h3>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 15%"></div>
                    </div>
                    <div class="stats">
                        <p>Current Rank: Home Cook</p>
                        <p>Hours: <span id="ingredients-hours">0</span> / <span id="ingredients-next-level">5</span> for Level <span id="ingredients-level">1</span></p>
                    </div>
                </div>

                <div class="attribute-card">
                    <div class="attribute-header">
                        <div class="attribute-icon"></div>
                        <h3>Flavor</h3>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 35%"></div>
                    </div>
                    <div class="stats">
                        <p>Current Rank: Home Cook</p>
                        <p>Hours: <span id="flavor-hours">0</span> / <span id="flavor-next-level">5</span> for Level <span id="flavor-level">1</span></p>
                    </div>
                </div>

                <div class="attribute-card">
                    <div class="attribute-header">
                        <div class="attribute-icon"></div>
                        <h3>Management</h3>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 45%"></div>
                    </div>
                    <div class="stats">
                        <p>Current Rank: Home Cook</p>
                        <p>Hours: <span id="management-hours">0</span> / <span id="management-next-level">5</span> for Level <span id="management-level">1</span></p>
                    </div>
                </div>
            </div>
            
            <!-- Quest System -->
            <div id="quest-system">
                <div class="quest-card">
                    <div class="attribute-header">
                        <div class="attribute-icon quest-emblem"></div>
                        <h3>Quests</h3>
                        <div class="button-group">
                            <button id="random-quest" class="quest-button primary">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" class="button-svg-icon">
                                    <path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm0 2v14h14V5H5zm4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-5 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
                                </svg>
                                Random Quest
                            </button>
                        </div>
                    </div>
                    <div id="quest-filters" class="filter-container"></div>
                    <div class="content">
                        <div id="quest-list" class="quest-grid">
                            <!-- Quest list will be populated here -->
                            <div class="loading-spinner">Loading quests...</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="add-hours-card">
                <div class="attribute-header">
                    <div class="attribute-icon-else">+</div>
                    <h3>Add Practice Hours</h3>
                </div>
                <div class="input-section">
                    <select id="attribute-select">
                        <option value="technique">Technique</option>
                        <option value="ingredients">Ingredients</option>
                        <option value="flavor">Flavor</option>
                        <option value="management">Management</option>
                    </select>
                    <input type="number" id="hours-input" min="0.5" step="0.5" value="1">
                    <button id="add-hours-button">Add Hours</button>
                    <button id="adjust-hours-button">Adjust Total</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quest Detail Container (Quest Detail Page) -->
    <div id="quest-detail-container" class="page-container hidden">
        <!-- Back button -->
    <div class="back-nav">
        <button id="universal-back-button" class="nav-button">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path>
            </svg>
            Back
        </button>
    </div>
        <!-- Add breadcrumbs -->
    <div class="breadcrumbs">
        <a href="#home">Home</a> > 
        <span>Quest: <span id="current-quest-name"></span></span>
    </div>
        <!-- Quest detail content will be dynamically loaded here -->
        <div id="current-quest"></div>
        <div class="loading-spinner">Loading quest details...</div>
    </div>
    
    <!-- Settings Container (Settings Page) -->
    <!-- Updated settings container -->
<div id="settings-container" class="page-container hidden">
    <!-- Back button -->
    <div class="back-nav">
        <button id="universal-back-button" class="nav-button">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path>
            </svg>
            Back
        </button>
    </div>
    
    <!-- Breadcrumbs -->
    <div class="breadcrumbs">
        <a href="#home">Home</a> > 
        <span>Settings</span>
    </div>
    
    <!-- Settings content -->
    <div id="settings-content" class="settings-container">
        <div class="settings-header">
            <h2>Settings</h2>
        </div>
        
        <div class="settings-section">
            <h3>Data Management</h3>
            <div class="settings-options">
                <div class="settings-option">
                    <button id="export-data-button" class="settings-button">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"></path>
                        </svg>
                        Export Data
                    </button>
                    <p>Save your progress and quests to a file</p>
                </div>
                
                <div class="settings-option">
                    <button id="import-data-button" class="settings-button">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path d="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"></path>
                        </svg>
                        Import Data
                    </button>
                    <p>Load your progress from a backup file</p>
                </div>
                
                <div class="settings-option danger-zone">
                    <button id="reset-data-button" class="settings-button danger">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path>
                        </svg>
                        Reset All Data
                    </button>
                    <p>WARNING: This will delete all your progress</p>
                </div>
            </div>
        </div>
        
        <div class="settings-section">
            <h3>About</h3>
            <div class="settings-about">
                <div id="version-info" class="settings-info-item">
                    <h4>DICED: Cooking RPG Companion</h4>
                    <p>Version 1.0.0</p>
                </div>
                
                <div id="version-details" class="version-details hidden">
                    <p>A companion app for tracking your cooking RPG progress.</p>
                    <p>Track your cooking skills, complete quests, and level up your culinary expertise!</p>
                    <p>Made with ❤️ by culinary enthusiasts.</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Loading spinner -->
    <div class="loading-spinner">Loading settings...</div>
</div>
    
    <!-- Notification Container -->
    <div id="notification-container" class="notification-container"></div>

    <!-- Core Data -->
    <script src="data.js"></script>
    
    <!-- Services -->
    <script src="ConfigService.js"></script>
    <script src="StateService.js"></script>
    <script src="QuestService.js"></script>
    <script src="QuestDataService.js"></script>
    <script src="NotificationService.js"></script>
    <script src="TemplateService.js"></script>
    
    <!-- Views -->
    <script src="QuestListView.js"></script>
    <script src="QuestDetailView.js"></script>
    <script src="AttributeView.js"></script>
    <script src="SettingsView.js"></script>
    
    <!-- Controllers -->
    <script src="QuestController.js"></script>
    <script src="Router.js"></script>
    
    <!-- Application Entry Point -->
    <script src="main.js"></script>
    
    <!-- Initialize the app -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Add event listeners for navigation
        document.getElementById('nav-home')?.addEventListener('click', () => {
            // Use capital R for Router object
            Router.navigate('home');
        });
        
        document.getElementById('nav-settings')?.addEventListener('click', () => {
            // Use capital R for Router object
            Router.navigate('settings');
        });
    });
    </script>
</body>
</html>
